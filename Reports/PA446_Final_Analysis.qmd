---
title: "PA446 Final Project Report"
author: "Haedodam Kim"
date: "2025-12-10"
format:
  html:
    toc: true
    toc-depth: 3
    code-fold: true
execute:
  warning: false
  message: false
---

## 1. Introduction

Arts education plays a critical role in supporting students’ academic achievement, social, emotional development, and long-term civic engagement. Despite its importance, access to high-quality arts programming in Chicago Public Schools (CPS) varies substantially across neighborhoods, raising persistent concerns about educational equity.

To evaluate arts education environments and program quality, CPS operates the Creative Schools Certification (CSC) system, which categorizes schools into four levels: Emerging, Developing, Strong, and Excelling. While CSC provides a useful benchmark for school-level arts access, there has been limited analysis of how these scores relate to broader socioeconomic conditions across ZIP codes, and which communities may be structurally disadvantaged in receiving robust arts education.

This project examines **how neighborhood-level socioeconomic factors, such as poverty rate, racial composition, linguistic diversity, and educational attainment, are associated with CSC outcomes across Chicago ZIP codes**. Using spatial visualization, the analysis identifies geographic patterns of inequality, and applies a decision tree classifier to explore which factors most strongly differentiate high- and low-scoring areas.

The goal of this study is to provide a data-driven understanding of inequities in arts education across Chicago, and to offer empirical insights for identifying which neighborhoods require targeted support, as well as potential policy strategies to advance arts education equity citywide.

## 2. Data Acquisition

This analysis draws on two primary data sources to examine the relationship between neighborhood socioeconomic conditions and arts education access across Chicago.

First, I obtained ZIP Code-level indicators from the **American Community Survey (ACS) 2022 5-year estimates** using the API. Key variables included:

-   Poverty rate

-   Percent White (used to derive percent non-White)

-   Percent English-only households (used to derive percent non-English-speaking)

-   Percent of residents with a bachelor’s degree or higher (used to derive percent non-college)

Second, I used the **Creative Schools Certification (CSC)** dataset provided through **Ingenuity’s ArtLook Maps**, a platform that documents CPS arts education resources, programs, and partnerships. ZIP codes were extracted from school address fields, and CSC levels (Emerging, Developing, Strong, Excelling) were converted into a numeric scale ranging from 1 to 4 to enable quantitative analysis.

Finally, the ACS and ArtLook datasets were merged by ZIP code to create a unified dataset linking neighborhood socioeconomic conditions with arts education outcomes across Chicago.

## 3. Data Wrangling & Quality Checks

After merging the datasets, I conducted basic cleaning and quality checks to ensure the reliability of the analysis. I first reviewed variable structures and summary statistics to identify any data type issues or unusual values. Missingness was then examined using `gg_miss_var()` and `vis_miss()` to check whether CSC scores or key socioeconomic indicators had missing values or showed any systematic patterns.

I also counted the number of schools within each ZIP code to assess representativeness, since ZIPs with very few observations may produce unstable averages. Finally, rows missing essential variables (CSC score, poverty rate, and the derived racial, language, and education indicators) were removed to create a consistent dataset for analysis.

## 4. Analysis

This section investigates three core analytical questions:\
1. Are arts education levels (CSC scores) evenly distributed across Chicago?\
2. Which socioeconomic factors are associated with CSC scores?\
3. How do CSC scores relate to each factor individually?

```{r}
# Load required packages
library(tidyverse)
library(tidycensus)
library(rvest)
library(stringr)
library(naniar)
library(broom)
library(tigris)
library(sf)
library(ggplot2)
library(shiny)
library(DT)
library(bslib)
library(rpart)
library(rpart.plot)

options(tigris_use_cache = TRUE)
```

```{r}
# Load cleaned datasets
arts_full <- readr::read_csv("../data/arts_full.csv")
arts_full <- arts_full %>% mutate(zip = as.character(zip))
```

**1. Are arts education levels (CSC scores) evenly distributed across Chicago?**
```{r}
# Aggregate to ZIP level
zip_summary <- arts_full %>%
  group_by(zip) %>%
  summarize(
    avg_CSC        = mean(CSC_score, na.rm = TRUE),
    poverty_rate   = unique(poverty_rate),
    pct_nonwhite   = unique(pct_nonwhite),
    pct_non_english= unique(pct_non_english),
    pct_noncollege = unique(pct_noncollege),
    n_schools      = n()
  )

# Load Chicago ZCTA shapefile (2020)
chi_zcta <- zctas(cb = TRUE, year = 2020) %>%
  mutate(zip = as.character(ZCTA5CE20)) %>%     
  filter(zip %in% zip_summary$zip)              

# Merge spatial data with aggregated ZIP summary
chi_map <- chi_zcta %>%
  left_join(zip_summary, by = "zip")

# Map: Visualize spatial distribution of CSC scores
ggplot(chi_map) +
  geom_sf(aes(fill = avg_CSC), color = "white", size = 0.25) +
  scale_fill_viridis_c(option = "plasma") +
  labs(
    title = "Average CSC Score by ZIP Code in Chicago",
    fill  = "Avg CSC"
  ) +
  theme_minimal()
```
CSC scores show clear spatial inequality across Chicago: higher-scoring ZIP codes are concentrated in the North Side and near Downtown, while lower-scoring areas cluster in the South and West Sides.

## 5. Advanced Analysis - Machine Learning

## 6. Conclusion
